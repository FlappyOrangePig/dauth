plugins {
    id 'com.android.library'
    id 'org.jetbrains.kotlin.android'
}

android {
    namespace 'com.cyberflow.dauthsdk'
    ndkVersion '22.1.7171670'

    defaultConfig {
        versionName versions.version_name

        ndk {
            //abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'
            abiFilters 'arm64-v8a'
            ldLibs 'c++_shared'
        }
    }

    externalNativeBuild {
        cmake {
            path "src/main/cpp/CMakeLists.txt"
            version "3.26.4"
        }
    }

    /*sourceSets.main {
        jniLibs.srcDirs = ['src/main/libs', 'jniLibs']
        jni.srcDirs = [] //disable automatic ndk-build call
    }*/
}

dependencies {
    implementation libraries.core_ktx
    implementation libraries.appcompat
    implementation libraries.material
    testImplementation libraries.junit
    androidTestImplementation libraries.ext_junit
    androidTestImplementation libraries.espresso_core

    implementation libraries.constraintlayout
    //日志拦截器
    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'
    implementation libraries.okhttp
    implementation 'com.facebook.android:facebook-android-sdk:[4,5)'

    // implementation platform('com.google.firebase:firebase-bom:31.4.0')
    // implementation 'com.google.firebase:firebase-auth-ktx'

    // Google sdk
    implementation libraries.google_service_auth
    implementation libraries.google_service_base

    // twitter
    implementation libraries.twitter
    implementation libraries.twitter_core

    implementation libraries.moshi
    implementation libraries.commons_lang
    implementation libraries.commons_beanutils
    implementation libraries.kotlinx_coroutines_core
    // 协程Android支持库
    implementation libraries.coroutine
    // 协程Java8支持库
    implementation libraries.kotlinx_coroutines_jdk8
    // lifecycle对于协程的扩展封装
    implementation libraries.lifecycle_viewmodel_ktx
    implementation libraries.lifecycle_runtime_ktx
    implementation libraries.lifecycle_livedata_ktx

    // webview
    implementation libraries.webview
    implementation libraries.activity_ktx

    // jwt
    implementation libraries.jwt

    // web3j
    api libraries.web3j_core
    implementation libraries.web3j_contract

}

apply from: '../maven_publish.gradle'